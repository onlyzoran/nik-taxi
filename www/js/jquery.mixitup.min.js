!function(b){var i={init:function(l){return this.each(function(){var r={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};l&&b.extend(r,l),this.config=r,b.support.touch="ontouchend"in document,b.support.touch&&(r.isTouch=!0,r.resetDelay=350),r.container=b(this);var t,e,a=r.container;r.prefix=function(t){for(var e=["Webkit","Moz","O","ms"],i=0;i<e.length;i++)if(e[i]+"Transition"in t.style)return e[i];return"transition"in t.style&&""}(a[0]),r.prefix=r.prefix?"-"+r.prefix.toLowerCase()+"-":"",a.find(r.targetSelector).each(function(){r.origOrder.push(b(this))}),r.sortOnLoad&&(b.isArray(r.sortOnLoad)?(t=r.sortOnLoad[0],e=r.sortOnLoad[1],b(r.sortSelector+"[data-sort="+r.sortOnLoad[0]+"][data-order="+r.sortOnLoad[1]+"]").addClass("active")):(b(r.sortSelector+"[data-sort="+r.sortOnLoad+"]").addClass("active"),t=r.sortOnLoad,r.sortOnLoad="desc"),w(t,e,a,r));for(var i=0;i<2;i++){var s=0==i?s=r.prefix:"";r.transition[s+"transition"]="all "+r.transitionSpeed+"ms ease-in-out",r.perspective[s+"perspective"]=r.perspectiveDistance+"px",r.perspective[s+"perspective-origin"]=r.perspectiveOrigin}for(i=0;i<2;i++){s=0==i?s=r.prefix:"";r.clean[s+"transition"]="none"}"list"==r.layoutMode?(a.addClass(r.listClass),r.origDisplay=r.targetDisplayList):(a.addClass(r.gridClass),r.origDisplay=r.targetDisplayGrid),r.origLayout=r.layoutMode;var n=r.showOnLoad.split(" ");b.each(n,function(){b(r.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),a.find(r.targetSelector).addClass("mix_all"),"all"==n[0]&&(n[0]="mix_all",r.showOnLoad="mix_all");var o=b();b.each(n,function(){o=o.add(b("."+this))}),o.each(function(){var t=b(this);"list"==r.layoutMode?t.css("display",r.targetDisplayList):t.css("display",r.targetDisplayGrid),t.css(r.transition)});setTimeout(function(){r.mixing=!0,o.css("opacity","1");setTimeout(function(){if("list"==r.layoutMode?o.removeStyle(r.prefix+"transition, transition").css({display:r.targetDisplayList,opacity:1}):o.removeStyle(r.prefix+"transition, transition").css({display:r.targetDisplayGrid,opacity:1}),r.mixing=!1,"function"==typeof r.onMixLoad){var t=r.onMixLoad.call(this,r);r=t||r}},r.transitionSpeed)},10);r.filter=r.showOnLoad,b(r.sortSelector).bind(r.buttonEvent,function(){if(!r.mixing){var t=b(this),e=t.attr("data-sort"),i=t.attr("data-order");if(t.hasClass("active")){if("random"!=e)return!1}else b(r.sortSelector).removeClass("active"),t.addClass("active");a.find(r.targetSelector).each(function(){r.startOrder.push(b(this))}),c(r.filter,e,i,a,r)}}),b(r.filterSelector).bind(r.buttonEvent,function(){if(!r.mixing){var t=b(this);if(0==r.multiFilter)b(r.filterSelector).removeClass("active"),t.addClass("active"),r.filter=t.attr("data-filter"),b(r.filterSelector+'[data-filter="'+r.filter+'"]').addClass("active");else{var e=t.attr("data-filter");if(t.hasClass("active")){t.removeClass("active");var i=new RegExp("(\\s|^)"+e);r.filter=r.filter.replace(i,"")}else t.addClass("active"),r.filter=r.filter+" "+e}c(r.filter,null,null,a,r)}})})},toGrid:function(){return this.each(function(){var t=this.config;"grid"!=t.layoutMode&&(t.layoutMode="grid",c(t.filter,null,null,b(this),t))})},toList:function(){return this.each(function(){var t=this.config;"list"!=t.layoutMode&&(t.layoutMode="list",c(t.filter,null,null,b(this),t))})},filter:function(e){return this.each(function(){var t=this.config;t.mixing||(b(t.filterSelector).removeClass("active"),b(t.filterSelector+'[data-filter="'+e+'"]').addClass("active"),c(e,null,null,b(this),t))})},sort:function(a){return this.each(function(){var t=this.config,e=b(this);if(!t.mixing){if(b(t.sortSelector).removeClass("active"),b.isArray(a)){var i=a[0],r=a[1];b(t.sortSelector+'[data-sort="'+a[0]+'"][data-order="'+a[1]+'"]').addClass("active")}else{b(t.sortSelector+'[data-sort="'+a+'"]').addClass("active");i=a,r="desc"}e.find(t.targetSelector).each(function(){t.startOrder.push(b(this))}),c(t.filter,i,r,e,t)}})},multimix:function(i){return this.each(function(){var t=this.config,e=b(this);multiOut={filter:t.filter,sort:null,order:"desc",layoutMode:t.layoutMode},b.extend(multiOut,i),t.mixing||(b(t.filterSelector).add(t.sortSelector).removeClass("active"),b(t.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),void 0!==multiOut.sort&&(b(t.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),e.find(t.targetSelector).each(function(){t.startOrder.push(b(this))})),t.layoutMode=multiOut.layoutMode,c(multiOut.filter,multiOut.sort,multiOut.order,e,t))})},remix:function(i){return this.each(function(){var e=this.config,t=b(this);e.origOrder=[],t.find(e.targetSelector).each(function(){var t=b(this);t.addClass("mix_all"),e.origOrder.push(t)}),e.mixing||void 0===i||(b(e.filterSelector).removeClass("active"),b(e.filterSelector+'[data-filter="'+i+'"]').addClass("active"),c(i,null,null,t,e))})}};function c(t,e,i,a,s){if(clearInterval(s.failsafe),s.mixing=!0,s.filter=t,"function"==typeof s.onMixStart){var r=s.onMixStart.call(this,s);s=r||s}for(var n=s.transitionSpeed,o=0;o<2;o++){var l=0==o?l=s.prefix:"";s.transition[l+"transition"]="all "+n+"ms linear",s.transition[l+"transform"]=l+"translate3d(0,0,0)",s.perspective[l+"perspective"]=s.perspectiveDistance+"px",s.perspective[l+"perspective-origin"]=s.perspectiveOrigin}var c=s.targetSelector,d=a.find(c);d.each(function(){this.data={}});var f=d.parent();f.css(s.perspective),s.easingFallback="ease-in-out","smooth"==s.easing&&(s.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==s.easing&&(s.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==s.easing&&(s.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",s.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==s.easing&&(s.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",s.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");var p="list"==s.layoutMode&&null!=s.listEffects?s.listEffects:s.effects;Array.prototype.indexOf&&(s.fade=-1<p.indexOf("fade")?"0":"",s.scale=-1<p.indexOf("scale")?"scale(.01)":"",s.rotateZ=-1<p.indexOf("rotateZ")?"rotate(180deg)":"",s.rotateY=-1<p.indexOf("rotateY")?"rotateY(90deg)":"",s.rotateX=-1<p.indexOf("rotateX")?"rotateX(90deg)":"",s.blur=-1<p.indexOf("blur")?"blur(8px)":"",s.grayscale=-1<p.indexOf("grayscale")?"grayscale(100%)":"");var u=b(),h=b(),g=[],v=!1;"string"==typeof t?g=L(t):(v=!0,b.each(t,function(t){g[t]=L(this)})),"or"==s.filterLogic?(""==g[0]&&g.shift(),g.length<1?h=h.add(a.find(c+":visible")):d.each(function(){var e=b(this);if(v){var i=0;b.each(g,function(t){this.length?e.is("."+this.join(", ."))&&i++:0<i&&i++}),i==g.length?u=u.add(e):h=h.add(e)}else e.is("."+g.join(", ."))?u=u.add(e):h=h.add(e)})):(u=u.add(f.find(c+"."+g.join("."))),h=h.add(f.find(c+":not(."+g.join(".")+"):visible")));var y=u.length,m=b(),x=b(),C=b();if(h.each(function(){var t=b(this);"none"!=t.css("display")&&(m=m.add(t),C=C.add(t))}),u.filter(":visible").length==y&&!m.length&&!e){if(s.origLayout==s.layoutMode)return S(),!1;if(1==u.length)return"list"==s.layoutMode?(a.addClass(s.listClass),a.removeClass(s.gridClass),C.css("display",s.targetDisplayList)):(a.addClass(s.gridClass),a.removeClass(s.listClass),C.css("display",s.targetDisplayGrid)),S(),!1}if(s.origHeight=f.height(),u.length){if(a.removeClass(s.failClass),u.each(function(){var t=b(this);"none"==t.css("display")?x=x.add(t):C=C.add(t)}),s.origLayout!=s.layoutMode&&0==s.animateGridList)return"list"==s.layoutMode?(a.addClass(s.listClass),a.removeClass(s.gridClass),C.css("display",s.targetDisplayList)):(a.addClass(s.gridClass),a.removeClass(s.listClass),C.css("display",s.targetDisplayGrid)),S(),!1;if(!window.atob)return S(),!1;if(d.css(s.clean),C.each(function(){this.data.origPos=b(this).offset()}),"list"==s.layoutMode?(a.addClass(s.listClass),a.removeClass(s.gridClass),x.css("display",s.targetDisplayList)):(a.addClass(s.gridClass),a.removeClass(s.listClass),x.css("display",s.targetDisplayGrid)),x.each(function(){this.data.showInterPos=b(this).offset()}),m.each(function(){this.data.hideInterPos=b(this).offset()}),C.each(function(){this.data.preInterPos=b(this).offset()}),"list"==s.layoutMode?C.css("display",s.targetDisplayList):C.css("display",s.targetDisplayGrid),e&&w(e,i,a,s),e&&function(t,e){if(t.length!=e.length)return!1;for(var i=0;i<e.length;i++){if(t[i].compare&&!t[i].compare(e[i]))return!1;if(t[i]!==e[i])return!1}return!0}(s.origSort,s.checkSort))return S(),!1;m.hide(),x.each(function(t){this.data.finalPos=b(this).offset()}),C.each(function(){this.data.finalPrePos=b(this).offset()}),s.newHeight=f.height(),e&&w("reset",null,a,s),x.hide(),C.css("display",s.origDisplay),"block"==s.origDisplay?(a.addClass(s.listClass),x.css("display",s.targetDisplayList)):(a.removeClass(s.listClass),x.css("display",s.targetDisplayGrid)),s.resizeContainer&&f.css("height",s.origHeight+"px");var O={};for(o=0;o<2;o++){O[(l=0==o?l=s.prefix:"")+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,O[l+"filter"]=s.blur+" "+s.grayscale}x.css(O),C.each(function(){var t=this.data,e=b(this);e.hasClass("mix_tohide")?(t.preTX=t.origPos.left-t.hideInterPos.left,t.preTY=t.origPos.top-t.hideInterPos.top):(t.preTX=t.origPos.left-t.preInterPos.left,t.preTY=t.origPos.top-t.preInterPos.top);for(var i={},r=0;r<2;r++){var a=0==r?a=s.prefix:"";i[a+"transform"]="translate("+t.preTX+"px,"+t.preTY+"px)"}e.css(i)}),"list"==s.layoutMode?(a.addClass(s.listClass),a.removeClass(s.gridClass)):(a.addClass(s.gridClass),a.removeClass(s.listClass));setTimeout(function(){if(s.resizeContainer){for(var t={},e=0;e<2;e++){t[(r=0==e?r=s.prefix:"")+"transition"]="all "+n+"ms ease-in-out",t.height=s.newHeight+"px"}f.css(t)}m.css("opacity",s.fade),x.css("opacity",1),x.each(function(){var t=this.data;t.tX=t.finalPos.left-t.showInterPos.left,t.tY=t.finalPos.top-t.showInterPos.top;for(var e={},i=0;i<2;i++){var r=0==i?r=s.prefix:"";e[r+"transition-property"]=r+"transform, "+r+"filter, opacity",e[r+"transition-timing-function"]=s.easing+", linear, linear",e[r+"transition-duration"]=n+"ms",e[r+"transition-delay"]="0",e[r+"transform"]="translate("+t.tX+"px,"+t.tY+"px)",e[r+"filter"]="none"}b(this).css("-webkit-transition","all "+n+"ms "+s.easingFallback).css(e)}),C.each(function(){var t=this.data;t.tX=0!=t.finalPrePos.left?t.finalPrePos.left-t.preInterPos.left:0,t.tY=0!=t.finalPrePos.left?t.finalPrePos.top-t.preInterPos.top:0;for(var e={},i=0;i<2;i++){var r=0==i?r=s.prefix:"";e[r+"transition"]="all "+n+"ms "+s.easing,e[r+"transform"]="translate("+t.tX+"px,"+t.tY+"px)"}b(this).css("-webkit-transition","all "+n+"ms "+s.easingFallback).css(e)});var i={};for(e=0;e<2;e++){var r;i[(r=0==e?r=s.prefix:"")+"transition"]="all "+n+"ms "+s.easing+", "+r+"filter "+n+"ms linear, opacity "+n+"ms linear",i[r+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,i[r+"filter"]=s.blur+" "+s.grayscale,i.opacity=s.fade}m.css(i),f.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(-1<t.originalEvent.propertyName.indexOf("transform")||-1<t.originalEvent.propertyName.indexOf("opacity"))&&(-1<c.indexOf(".")?b(t.target).hasClass(c.replace(".",""))&&S():b(t.target).is(c)&&S())})},10);s.failsafe=setTimeout(function(){s.mixing&&S()},n+400)}else{if(s.resizeContainer&&f.css("height",s.origHeight+"px"),!window.atob)return S(),!1;m=h;setTimeout(function(){if(f.css(s.perspective),s.resizeContainer){for(var t={},e=0;e<2;e++){t[(r=0==e?r=s.prefix:"")+"transition"]="height "+n+"ms ease-in-out",t.height=s.minHeight+"px"}f.css(t)}if(d.css(s.transition),h.length){var i={};for(e=0;e<2;e++){var r;i[(r=0==e?r=s.prefix:"")+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,i[r+"filter"]=s.blur+" "+s.grayscale,i.opacity=s.fade}m.css(i),f.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(-1<t.originalEvent.propertyName.indexOf("transform")||-1<t.originalEvent.propertyName.indexOf("opacity"))&&(a.addClass(s.failClass),S())})}else s.mixing=!1},10)}function S(){f.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd"),e&&w(e,i,a,s),s.startOrder=[],s.newOrder=[],s.origSort=[],s.checkSort=[],d.removeStyle(s.prefix+"filter, filter, "+s.prefix+"transform, transform, opacity, display").css(s.clean).removeAttr("data-checksum"),window.atob||d.css({display:"none",opacity:"0"});var t=s.resizeContainer?"height":"";f.removeStyle(s.prefix+"transition, transition, "+s.prefix+"perspective, perspective, "+s.prefix+"perspective-origin, perspective-origin, "+t),"list"==s.layoutMode?(u.css({display:s.targetDisplayList,opacity:"1"}),s.origDisplay=s.targetDisplayList):(u.css({display:s.targetDisplayGrid,opacity:"1"}),s.origDisplay=s.targetDisplayGrid),s.origLayout=s.layoutMode;setTimeout(function(){if(d.removeStyle(s.prefix+"transition, transition"),s.mixing=!1,"function"==typeof s.onMixEnd){var t=s.onMixEnd.call(this,s);s=t||s}})}}function w(a,e,t,i){function r(t){"asc"==e?s.prepend(t).prepend(" "):s.append(t).append(" ")}t.find(i.targetSelector).wrapAll('<div class="mix_sorter"/>');var s=t.find(".mix_sorter");if(i.origSort.length||s.find(i.targetSelector+":visible").each(function(){b(this).wrap("<s/>"),i.origSort.push(b(this).parent().html().replace(/\s+/g,"")),b(this).unwrap()}),s.empty(),"reset"==a)b.each(i.startOrder,function(){s.append(this).append(" ")});else if("default"==a)b.each(i.origOrder,function(){r(this)});else if("random"==a)i.newOrder.length||(i.newOrder=function(t){for(var e=t.slice(),i=e.length,r=i;r--;){var a=parseInt(Math.random()*i),s=e[r];e[r]=e[a],e[a]=s}return e}(i.startOrder)),b.each(i.newOrder,function(){s.append(this).append(" ")});else if("custom"==a)b.each(e,function(){r(this)});else{if(void 0===i.origOrder[0].attr(a))return console.log("No such attribute found. Terminating"),!1;i.newOrder.length||(b.each(i.origOrder,function(){i.newOrder.push(b(this))}),i.newOrder.sort(function(t,e){var i=isNaN(1*t.attr(a))?t.attr(a).toLowerCase():1*t.attr(a),r=isNaN(1*e.attr(a))?e.attr(a).toLowerCase():1*e.attr(a);return i<r?-1:r<i?1:0})),b.each(i.newOrder,function(){r(this)})}i.checkSort=[],s.find(i.targetSelector+":visible").each(function(t){var e=b(this);0==t&&e.attr("data-checksum","1"),e.wrap("<s/>"),i.checkSort.push(e.parent().html().replace(/\s+/g,"")),e.unwrap()}),t.find(i.targetSelector).unwrap()}function L(t){var e=(t=t.replace(/\s{2,}/g," ")).split(" ");return b.each(e,function(t){"all"==this&&(e[t]="mix_all")}),""==e[0]&&e.shift(),e}b.fn.mixitup=function(t,e){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:i.init.apply(this,arguments)},b.fn.removeStyle=function(i){return this.each(function(){var t=b(this),e=(i=i.replace(/\s+/g,"")).split(",");b.each(e,function(){var i=new RegExp(this.toString()+"[^;]+;?","g");t.attr("style",function(t,e){if(e)return e.replace(i,"")})})})}}(jQuery);