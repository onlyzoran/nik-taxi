!function(n,i){n.Slider=function(i,t){this.$el=n(t),this._init(i)},n.Slider.defaults={width:1170,height:500,current:0,bgincrement:100,autoplay:!0,interval:6e3},n.Slider.prototype={_init:function(i){var t=this;this.options=n.extend(!0,{},n.Slider.defaults,i),this.ratio=this.$el.width()/this.$el.height(),this.$slides=this.$el.children().children(".da-slide"),this.slidesCount=this.$slides.length,this.current=this.options.current,(this.current<0||this.current>=this.slidesCount)&&(this.current=0),this.$slides.eq(this.current).addClass("da-slide-current");for(var s=n('<nav class="da-dots"/>'),e=0;e<this.slidesCount;++e)s.append("<span/>");s.appendTo(this.$el),this.$pages=this.$el.find("nav.da-dots > span"),this.$navNext=this.$el.find("span.da-arrows-next"),this.$navPrev=this.$el.find("span.da-arrows-prev"),this.isAnimating=!1,this.bgpositer=0,this.cssAnimations=Modernizr.cssanimations,this.cssTransitions=Modernizr.csstransitions,this.cssAnimations&&this.cssAnimations||this.$el.addClass("da-slider-fb"),this._updatePage(),this._loadEvents(),this.options.autoplay&&this._startSlideshow(),n(window).bind("resize",function(){setTimeout(function(){t._makeResponsive()},150)}),this._makeResponsive()},_navigate:function(i,t){var s,e,n,a,o=this.$slides.eq(this.current),r=this;if(this.current===i||this.isAnimating)return!1;if(this.isAnimating=!0,a=t||(i>this.current?"next":"prev"),this.cssAnimations&&this.cssAnimations&&("next"===a?(e="da-slide-toleft",n="da-slide-fromright",++this.bgpositer):(e="da-slide-toright",n="da-slide-fromleft",--this.bgpositer),this.$el.css("background-position",this.bgpositer*this.options.bgincrement+"% center")),this.current=i,s=this.$slides.eq(this.current),this.cssAnimations&&this.cssAnimations){var h="da-slide-toleft da-slide-toright da-slide-fromleft da-slide-fromright";o.removeClass(h),s.removeClass(h),o.addClass(e),s.addClass(n),o.removeClass("da-slide-current"),s.addClass("da-slide-current")}this.cssAnimations&&this.cssAnimations||(s.addClass("da-slide-current"),s.css("left","next"===a?"100%":"-100%").stop().animate({left:"0%"},1e3,function(){r.isAnimating=!1}),o.stop().animate({left:"next"===a?"-100%":"100%"},1e3,function(){o.removeClass("da-slide-current")})),this._updatePage()},_updatePage:function(){this.$pages.removeClass("da-dots-current"),this.$pages.eq(this.current).addClass("da-dots-current")},_startSlideshow:function(){var t=this;this.slideshow=setTimeout(function(){var i=i=t.current<t.slidesCount-1?t.current+1:0;t._navigate(i,"next"),t.options.autoplay&&t._startSlideshow()},this.options.interval)},page:function(i){if(i>=this.slidesCount||i<0)return!1;this.options.autoplay&&(clearTimeout(this.slideshow),this.options.autoplay=!1),this._navigate(i)},_makeResponsive:function(){var i=this.$el.width(),t=this.$el.height();if(i<this.options.width){t=i/(this.options.width/this.options.height);this.$el.height(Math.ceil(t))}else this.$el.height(Math.ceil(this.options.height))},_loadEvents:function(){var s=this;this.$pages.on("click.cslider",function(i){return s.page(n(this).index()),!1}),this.$navNext.on("click.cslider",function(i){s.options.autoplay&&(clearTimeout(s.slideshow),s.options.autoplay=!1);var t=t=s.current<s.slidesCount-1?s.current+1:0;return s._navigate(t,"next"),!1}),this.$navPrev.on("click.cslider",function(i){s.options.autoplay&&(clearTimeout(s.slideshow),s.options.autoplay=!1);var t=t=0<s.current?s.current-1:s.slidesCount-1;return s._navigate(t,"prev"),!1}),this.cssTransitions&&(this.options.bgincrement?this.$el.on("webkitTransitionEnd.cslider transitionend.cslider OTransitionEnd.cslider",function(i){i.target.id===s.$el.attr("id")&&(s.isAnimating=!1)}):this.$el.on("webkitAnimationEnd.cslider animationend.cslider OAnimationEnd.cslider",function(i){"toRightAnim4"!==i.originalEvent.animationName&&"toLeftAnim4"!==i.originalEvent.animationName||(s.isAnimating=!1)}))}};function e(i){this.console&&console.error(i)}n.fn.cslider=function(t){if("string"==typeof t){var s=Array.prototype.slice.call(arguments,1);this.each(function(){var i=n.data(this,"cslider");i?n.isFunction(i[t])&&"_"!==t.charAt(0)?i[t].apply(i,s):e("no such method '"+t+"' for cslider instance"):e("cannot call methods on cslider prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){n.data(this,"cslider")||n.data(this,"cslider",new n.Slider(t,this))});return this}}(jQuery);